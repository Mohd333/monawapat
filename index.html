<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ù…Ù†Ø§ÙˆØ¨Ø© Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            direction: rtl;
            padding: 20px;
            background-color: #f5f5f5;
        }
        
        .container {
            max-width: 600px;
            margin: 0 auto;
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        h2 {
            color: #333;
            text-align: center;
        }
        
        .duty-section {
            margin-bottom: 25px;
        }
        
        label.section-title {
            display: block;
            font-size: 18px;
            font-weight: bold;
            color: #25D366;
            margin-bottom: 10px;
        }
        
        .checkbox-container {
            max-height: 300px;
            overflow-y: auto;
            border: 1px solid #ccc;
            border-radius: 5px;
            padding: 10px;
            background-color: #fafafa;
        }
        
        .checkbox-item {
            display: flex;
            align-items: center;
            padding: 8px;
            margin-bottom: 5px;
            background-color: white;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        
        .checkbox-item:hover {
            background-color: #e8f5e9;
        }
        
        .checkbox-item input[type="checkbox"] {
            width: 20px;
            height: 20px;
            margin-left: 10px;
            cursor: pointer;
        }
        
        .checkbox-item label {
            cursor: pointer;
            flex-grow: 1;
            font-size: 16px;
        }
        
        select {
            width: 100%;
            padding: 10px;
            font-size: 16px;
            border-radius: 5px;
            border: 1px solid #ccc;
            background-color: white;
        }
        
        button {
            width: 100%;
            padding: 15px;
            font-size: 18px;
            font-weight: bold;
            border-radius: 5px;
            border: none;
            background-color: #25D366;
            color: white;
            cursor: pointer;
            margin-top: 20px;
        }
        
        button:hover {
            background-color: #20b857;
        }
        
        button:active {
            background-color: #1da851;
        }
    </style>
</head>
<body>

    <div class="container">
        <h2>Ø¥Ø¹Ø¯Ø§Ø¯ Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù…Ù†Ø§ÙˆØ¨Ø©</h2>
        
        <div class="duty-section">
            <label class="section-title">Ù…Ù†Ø§ÙˆØ¨Ø© Ø§Ù„ÙØ³Ø­Ø© ÙˆØ§Ù„Ù…ØµÙ„Ù‰:</label>
            <div class="checkbox-container" id="firstDutyContainer">
                <!-- Ø³ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª Ù‡Ù†Ø§ Ø¨ÙˆØ§Ø³Ø·Ø© JavaScript -->
            </div>
        </div>

        <div class="duty-section">
            <label class="section-title">Ù…Ù†Ø§ÙˆØ¨Ø© Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø¯ÙˆØ§Ù…:</label>
            <select id="secondDuty">
                <option value="">Ø§Ø®ØªØ± Ø§Ø³Ù…</option>
                <!-- Ø³ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª Ù‡Ù†Ø§ Ø¨ÙˆØ§Ø³Ø·Ø© JavaScript -->
            </select>
        </div>

        <button onclick="shareOnWhatsApp()">Ù…Ø´Ø§Ø±ÙƒØ© Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨</button>
    </div>

    <script>
        // Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø¹Ù„Ù…ÙŠÙ†
        const teachers = [
            "Ø³Ù„ÙŠÙ…Ø§Ù† Ø¨Ù† Ù…Ø­Ù…Ø¯ Ø§Ù„Ù…ØºØ´ÙŠ",
            "Ø¨Ù†Ø¯Ø± Ø§Ø¨Ø±Ø§Ù‡ÙŠÙ… Ø§Ù„Ø­Ø¬ÙŠÙ„Ø§Ù†",
            "Ù†Ø§ÙŠÙ Ø¨Ù† Ø¹Ø¨Ø¯Ø§Ù„ÙƒØ±ÙŠÙ… Ø§Ù„Ø¯Ø®ÙŠÙ„",
            "Ø¹Ø¨Ø¯Ø§Ù„Ø±Ø­Ù…Ù† Ø®Ø§Ù„Ø¯ Ø§Ù„Ø­Ù…ÙˆØ¯",
            "Ø¹Ø¨Ø¯Ø§Ù„Ù‚Ø§Ø¯Ø± Ø¨Ù† Ù…Ø­Ù…Ø¯ Ø¢Ù„ Ø·Ù„Ø­Ù‡",
            "Ù†Ø§ØµØ± Ø¹Ø¨Ø¯Ø§Ù„Ø¹Ø²ÙŠØ² Ø§Ù„Ø¹Ø¬Ø§Ø¬ÙŠ",
            "Ø§Ø­Ù…Ø¯ ÙŠØ­ÙŠ Ø·ÙˆÙ‡Ø±ÙŠ",
            "Ø³Ø§Ù„Ù… Ø³Ø¹Ø¯ Ø§Ù„Ù‚Ø­Ø·Ø§Ù†ÙŠ",
            "ØªØ±ÙƒÙŠ Ø³Ø§Ù„Ù… Ø§Ù„ØºØ§Ù…Ø¯ÙŠ",
            "Ø³Ø§Ù„Ù… Ø¨Ù† Ø³Ù„ÙŠÙ…Ø§Ù† Ø§Ù„Ø´Ù‡Ø±ÙŠ",
            "Ù…Ø­Ù…Ø¯ ØµØ§Ù„Ø­ Ø§Ù„Ø´Ù‡Ø±ÙŠ",
            "Ù…Ø´Ø§Ø±ÙŠ Ø®Ù„ÙŠÙÙ‡ Ø§Ù„Ù…Ù„Ø§Ø­",
            "Ø¹Ø¨Ø¯Ø§Ù„Ø±Ø­ÙŠÙ… ÙÙ‡Ø¯ Ø§Ù„Ø¨ÙˆØ·ÙˆÙŠØ¨Ù‡",
            "Ø«Ù…Ø± Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø§Ù„Ø¯ÙˆØ³Ø±ÙŠ",
            "Ù…Ø­Ù…Ø¯ Ø§Ø­Ù…Ø¯ Ø§Ù„ØºØ§Ù…Ø¯ÙŠ",
            "Ù…Ø­Ù…Ø¯ Ø³Ø§Ù…ÙŠ Ø§Ù„Ø±ÙŠØ²Ø§Ù†",
            "Ø±Ø¬Ø§Ø¦ÙŠ Ø¢Ù„ Ø¢Ø¯Ù…",
            "ÙÙ‡Ø¯ Ù…Ø¨Ø§Ø±Ùƒ Ø§Ù„ÙØ±Ø¬Ø§Ù†",
            "Ø¬Ù‡Ø§Ø¯ Ø¨Ù† ØµØ§Ù„Ø­ Ø§Ù„Ø­ÙÙŠØ±",
            "Ù…Ø­Ù…Ø¯ Ø¨Ù† Ø¹Ù„ÙŠ Ø§Ù„Ù‚Ø­Ø·Ø§Ù†ÙŠ",
            "Ø¹Ø¨Ø¯Ø§Ù„Ø±Ø­Ù…Ù† Ù…Ù„ÙÙŠ Ø§Ù„Ø¹ÙˆÙÙŠ",
            "Ø®Ø§Ù„Ø¯ Ø¨Ù† Ø­Ù…ÙŠØ¯ Ø§Ù„Ù…Ø§Ù„ÙƒÙŠ",
            "ØµØ§Ù„Ø­ Ø¹Ø¨Ø¯Ø§Ù„Ø±Ø­Ù…Ù† Ø§Ù„Ø·Ø±ÙŠØ®Ù…",
            "ÙŠÙˆØ³Ù Ø¨Ù† Ø¹Ø¨Ø¯Ø§Ù„ØµÙ…Ø¯ Ø§Ù„Ø¯Ù„ÙŠØ¬Ø§Ù†",
            "Ù…Ø­Ù…Ø¯ Ù…Ø¨Ø´Ø± Ø§Ù„Ø¹Ù…Ø±ÙŠ",
            "Ù…Ø­Ù…Ø¯ Ø¨Ù† Ø§Ø­Ù…Ø¯ Ø§Ù„Ø­Ø³Ù†ÙŠ",
            "Ø³Ù„Ø·Ø§Ù† Ø¹Ù„ÙŠ Ø§Ù„Ø²Ù‡Ø±Ø§Ù†ÙŠ",
            "ÙÙ‡Ø¯ Ø¹Ù„ÙŠ Ù…Ù†Ø°Ø±ÙŠ",
            "Ø³Ù„Ø·Ø§Ù† Ø´Ø±ÙŠÙ Ø§Ù„Ù…Ø§Ù„ÙƒÙŠ",
            "Ø³Ø¹ÙˆØ¯ Ø¹Ø¨Ø¯Ø§Ù„Ø¹Ø²ÙŠØ² Ø§Ù„Ø¹Ù†Ø²ÙŠ"
        ];

        // Ø¥Ù†Ø´Ø§Ø¡ checkboxes Ù„Ù…Ù†Ø§ÙˆØ¨Ø© Ø§Ù„ÙØ³Ø­Ø© ÙˆØ§Ù„Ù…ØµÙ„Ù‰
        const firstDutyContainer = document.getElementById('firstDutyContainer');
        teachers.forEach((teacher, index) => {
            const div = document.createElement('div');
            div.className = 'checkbox-item';
            
            const checkbox = document.createElement('input');
            checkbox.type = 'checkbox';
            checkbox.id = `teacher_${index}`;
            checkbox.value = teacher;
            
            const label = document.createElement('label');
            label.htmlFor = `teacher_${index}`;
            label.textContent = teacher;
            
            div.appendChild(checkbox);
            div.appendChild(label);
            firstDutyContainer.appendChild(div);
            
            // Ø¬Ø¹Ù„ Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø§Ù„Ù€ div ÙŠØ¤Ø¯ÙŠ Ø¥Ù„Ù‰ ØªØ­Ø¯ÙŠØ¯/Ø¥Ù„ØºØ§Ø¡ ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù€ checkbox
            div.addEventListener('click', function(e) {
                if (e.target !== checkbox) {
                    checkbox.checked = !checkbox.checked;
                }
            });
        });

        // Ø¥Ù†Ø´Ø§Ø¡ Ø®ÙŠØ§Ø±Ø§Øª Ù„Ù…Ù†Ø§ÙˆØ¨Ø© Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø¯ÙˆØ§Ù…
        const secondDutySelect = document.getElementById('secondDuty');
        teachers.forEach(teacher => {
            const option = document.createElement('option');
            option.value = teacher;
            option.textContent = teacher;
            secondDutySelect.appendChild(option);
        });

        function convertToHijri(gDate) {
            const M = 30.6001;
            const Y_ = gDate.getFullYear();
            const M_ = gDate.getMonth() + 1;
            const D_ = gDate.getDate();

            const JDN = 367 * Y_ - Math.floor((7 * (Y_ + Math.floor((M_ + 9) / 12))) / 4) + Math.floor((275 * M_) / 9) + D_ + 1721013.5;

            const epochastro = 1948084;
            const epochcivil = 1948085;

            const shift1 = epochcivil - epochastro;
            const z = JDN - epochastro;
            const cyc = Math.floor(z / 10631);
            const j = z - 10631 * cyc;
            const y = Math.floor((j - shift1) / 354.366);
            const years = 30 * cyc + y;
            const month = Math.min(12, Math.floor((j - shift1 - 354.366 * y) / 29.5) + 1);
            const day = j - shift1 - Math.floor(354.366 * y) - Math.floor(29.5 * (month - 1)) + 1;

            return `${Math.floor(day)}-${month}-${years}`;
        }

        function arabicNumbers(input) {
            const arabicDigits = ['Ù ', 'Ù¡', 'Ù¢', 'Ù£', 'Ù¤', 'Ù¥', 'Ù¦', 'Ù§', 'Ù¨', 'Ù©'];
            return input.toString().replace(/\d/g, (d) => arabicDigits[d]);
        }

        // Ø¯Ø§Ù„Ø© Ù„Ø¥Ø¹Ø§Ø¯Ø© Ø¶Ø¨Ø· Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø§Ø®ØªÙŠØ§Ø±Ø§Øª
        function resetSelections() {
            // Ø¥Ù„ØºØ§Ø¡ ØªØ­Ø¯ÙŠØ¯ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù€ checkboxes
            const checkboxes = document.querySelectorAll('#firstDutyContainer input[type="checkbox"]');
            checkboxes.forEach(checkbox => {
                checkbox.checked = false;
            });
            
            // Ø¥Ø¹Ø§Ø¯Ø© Ø¶Ø¨Ø· Ù‚Ø§Ø¦Ù…Ø© Ù…Ù†Ø§ÙˆØ¨Ø© Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø¯ÙˆØ§Ù…
            document.getElementById('secondDuty').value = "";
        }

        function shareOnWhatsApp() {
            // Ø¬Ù…Ø¹ Ø§Ù„Ù…Ø¹Ù„Ù…ÙŠÙ† Ø§Ù„Ù…Ø®ØªØ§Ø±ÙŠÙ† ÙÙŠ Ù…Ù†Ø§ÙˆØ¨Ø© Ø§Ù„ÙØ³Ø­Ø© ÙˆØ§Ù„Ù…ØµÙ„Ù‰
            const checkboxes = document.querySelectorAll('#firstDutyContainer input[type="checkbox"]:checked');
            const firstDuty = Array.from(checkboxes)
                .map((checkbox, index) => `${index + 1}ï¸âƒ£ ${checkbox.value}`)
                .join('\n');
            
            const secondDuty = document.getElementById('secondDuty').value;
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ø®ØªÙŠØ§Ø± Ù…Ø¹Ù„Ù…ÙŠÙ†
            if (!firstDuty) {
                alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ù…Ø¹Ù„Ù… ÙˆØ§Ø­Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„ Ù„Ù…Ù†Ø§ÙˆØ¨Ø© Ø§Ù„ÙØ³Ø­Ø© ÙˆØ§Ù„Ù…ØµÙ„Ù‰');
                return;
            }
            
            if (!secondDuty) {
                alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ù…Ø¹Ù„Ù… Ù„Ù…Ù†Ø§ÙˆØ¨Ø© Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø¯ÙˆØ§Ù…');
                return;
            }
            
            const today = new Date();
            const dayName = today.toLocaleDateString('ar-EG', { weekday: 'long' });
            const gregorianDate = today.toLocaleDateString('en-GB', { year: 'numeric', month: 'numeric', day: 'numeric' }).replace(/\//g, '-');

            const hijriDate = convertToHijri(today);
            const hijriDateArabic = hijriDate.split('-').map(arabicNumbers).join('-');

            const message = `Ø§Ù„Ø³Ù„Ø§Ù… Ø¹Ù„ÙŠÙƒÙ… ÙˆØ±Ø­Ù…Ø© Ø§Ù„Ù„Ù‡..\n\nğŸ”´ (( Ù…Ù†Ø§ÙˆØ¨Ø© Ù‡Ø°Ø§ Ø§Ù„ÙŠÙˆÙ… )) ğŸ”´\n\nâœ¨ ${dayName}\n\nğŸ“… ${gregorianDate}\nğŸ•Œ ${hijriDateArabic}\n\nğŸŸ¡ ( Ù…Ù†Ø§ÙˆØ¨Ø© Ø§Ù„ÙØ³Ø­Ø© ÙˆØ§Ù„Ù…ØµÙ„Ù‰ ) ğŸŸ¡\n\n${firstDuty}\n\nğŸ“Œ ( Ù…Ù†Ø§ÙˆØ¨Ø© Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø¯ÙˆØ§Ù… ) ğŸ“Œ\n\n${secondDuty}\n\nğŸ“ *Ø¢Ù…Ù„ Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø²Ù…Ù„Ø§Ø¡ Ø§Ù„Ø§Ù„ØªØ²Ø§Ù… Ø¨Ø§Ù„Ù…Ù†Ø§ÙˆØ¨Ø© Ù…Ù† Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ ( Ø§Ù„Ø·Ø§Ø¨ÙˆØ± Ø§Ù„ØµØ¨Ø§Ø­ÙŠ - Ø§Ù„ÙØ³Ø­Ø© - Ø§Ù„ØµÙ„Ø§Ø© ).*\n\nğŸ“ *Ø§Ù„Ø§Ù„ØªØ²Ø§Ù… Ø¨Ù…Ù†Ø§ÙˆØ¨Ø© Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø¯ÙˆØ§Ù… ÙˆØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø·Ù„Ø§Ø¨ Ø§Ù„Ù…ØªØ£Ø®Ø±ÙŠÙ† ÙÙŠ Ø§Ù„Ø§Ù†ØµØ±Ø§Ù ÙÙŠ Ø§Ù„Ø³Ø¬Ù„ Ø§Ù„Ø®Ø§Øµ Ø¨Ø°Ù„Ùƒ.*`;

            const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
            const whatsappUrl = isMobile
                ? `whatsapp://send?text=${encodeURIComponent(message)}`
                : `https://api.whatsapp.com/send?text=${encodeURIComponent(message)}`;

            window.open(whatsappUrl, '_blank');
            
            // Ø¥Ø¹Ø§Ø¯Ø© Ø¶Ø¨Ø· Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø§Ø®ØªÙŠØ§Ø±Ø§Øª Ø¨Ø¹Ø¯ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„
            setTimeout(resetSelections, 1000);
        }
    </script>

</body>
</html>
